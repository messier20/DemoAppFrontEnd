<mat-tab-group >
  <mat-tab class="mat-tab-label-content "  label="All Applications">
    <div>
      <h4 color="primary">Pending Applications</h4>
      <div *ngFor="let lease of leasesPrivateAndBusiness; let stepIndex = index">


        <mat-accordion class="example-headers-align" *ngIf="lease.status==='PENDING'">
          <mat-expansion-panel [expanded]="step11 === stepIndex" (opened)="setStep11(stepIndex)" hideToggle="true">


            <mat-expansion-panel-header id="header">
              <mat-panel-title>
                Application {{lease.privateCustomerInfo?.name}} {{lease.businessCustomerInfo?.name}}
                submitted on {{lease.date}}

              </mat-panel-title>
              <ng-template matExpansionPanelContent>
                <app-application-info [lease]="lease" [leasesInfoOfPrivate]="leasesInfoOfPrivate"
                                      [leasesInfoOfBusiness]="leasesInfoOfBusiness" [names]="names"
                                      [pending]="lease" (updates)="refresh2($event)"  ></app-application-info>
              </ng-template>

            </mat-expansion-panel-header>
          </mat-expansion-panel>

        </mat-accordion>

      </div>
    </div>
    <div>
      <h4>Approved Applications</h4>
      <div *ngFor="let lease of leasesPrivateAndBusiness; let stepIndex2 = index">
        <mat-accordion class="example-headers-align" *ngIf="lease.status==='APPROVED'">
          <mat-expansion-panel [expanded]="step12 === stepIndex2" (opened)="setStep12(stepIndex2)" hideToggle="true">
            <mat-expansion-panel-header>
              <mat-panel-title>
                Application {{lease.privateCustomerInfo?.name}} {{lease.businessCustomerInfo?.name}}
                submitted on {{lease.date}}
              </mat-panel-title>
              <ng-template matExpansionPanelContent>
                <app-application-info [lease]="lease" [leasesInfoOfPrivate]="leasesInfoOfPrivate"
                                      [leasesInfoOfBusiness]="leasesInfoOfBusiness" [names]="names"
                                      [pending]="lease" (updates)="refresh2($event)"></app-application-info>

              </ng-template>

            </mat-expansion-panel-header>
          </mat-expansion-panel>

        </mat-accordion>
      </div>
    </div>
    <div>
    </div>
    <div>
      <h4>Denied applications</h4>
      <div *ngFor="let lease of leasesPrivateAndBusiness; let stepIndex3 = index">

        <mat-accordion class="example-headers-align" *ngIf="lease.status==='DENIED'">
          <mat-expansion-panel [expanded]="step13 === stepIndex3" (opened)="setStep13(stepIndex3)" hideToggle="true">
            <mat-expansion-panel-header>
              <mat-panel-title>
                Application {{lease.privateCustomerInfo?.name}} {{lease.businessCustomerInfo?.name}}
                submitted on {{lease.date}}
              </mat-panel-title>
              <ng-template matExpansionPanelContent>
                <app-application-info [lease]="lease" [leasesInfoOfPrivate]="leasesInfoOfPrivate"
                                      [leasesInfoOfBusiness]="leasesInfoOfBusiness" [names]="names"
                                      [pending]="lease" (updates)="refresh2($event)"></app-application-info>

              </ng-template>

            </mat-expansion-panel-header>
          </mat-expansion-panel>

        </mat-accordion>
      </div>
    </div>

  </mat-tab>
  <mat-tab label="Private Customers Applications">
    <!--<div>-->
      <!--<h4>All Applications</h4>-->
      <!--<div *ngFor="let lease of leasesInfoOfPrivate; let stepIndex = index">-->
        <!--<app-application-info [lease]="lease" [leasesInfoOfPrivate]="leasesInfoOfPrivate"-->
                              <!--[stepIndex]="stepIndex" ></app-application-info>-->
      <!--</div>-->
    <!--</div>-->

    <div>
      <h4 color="primary">Pending Applications</h4>
      <div *ngFor="let lease of leasesPrivateAndBusiness; let stepIndex = index" >


        <mat-accordion class="example-headers-align" *ngIf="lease.leasingModel.customerType==='PRIVATE'&&lease.status==='PENDING'" >
          <mat-expansion-panel [expanded]="step21 === stepIndex" (opened)="setStep21(stepIndex)" hideToggle="true">


            <mat-expansion-panel-header >
              <mat-panel-title>
                Application {{lease.privateCustomerInfo?.name}} {{lease.businessCustomerInfo?.name}}
                submitted on {{lease.date}}

              </mat-panel-title>
              <ng-template matExpansionPanelContent>
                <app-application-info [lease]="lease" [leasesInfoOfPrivate]="leasesInfoOfPrivate"
                                      [leasesInfoOfBusiness]="leasesInfoOfBusiness" [names]="names"
                                      [pending]="lease" (updates)="refresh2($event)"  ></app-application-info>
              </ng-template>

            </mat-expansion-panel-header>
          </mat-expansion-panel>

        </mat-accordion>

      </div>
    </div>
    <div>
      <h4>Approved Applications</h4>
      <div *ngFor="let lease of leasesPrivateAndBusiness; let stepIndex2 = index">
        <mat-accordion class="example-headers-align" *ngIf="lease.leasingModel.customerType==='PRIVATE'&&lease.status==='APPROVED'" >
          <mat-expansion-panel [expanded]="step22 === stepIndex2" (opened)="setStep22(stepIndex2)" hideToggle="true">
            <mat-expansion-panel-header>
              <mat-panel-title>
                Application {{lease.privateCustomerInfo?.name}} {{lease.businessCustomerInfo?.name}}
                submitted on {{lease.date}}
              </mat-panel-title>
              <ng-template matExpansionPanelContent>
                <app-application-info [lease]="lease" [leasesInfoOfPrivate]="leasesInfoOfPrivate"
                                      [leasesInfoOfBusiness]="leasesInfoOfBusiness" [names]="names"
                                      [pending]="lease" (updates)="refresh2($event)"></app-application-info>

              </ng-template>

            </mat-expansion-panel-header>
          </mat-expansion-panel>

        </mat-accordion>
      </div>
    </div>
    <div>
      <h4>Denied applications</h4>
      <div *ngFor="let lease of leasesPrivateAndBusiness; let stepIndex3 = index">

        <mat-accordion class="example-headers-align" *ngIf="lease.leasingModel.customerType==='PRIVATE'&&lease.status==='DENIED'" >

          <mat-expansion-panel [expanded]="step23 === stepIndex3" (opened)="setStep23(stepIndex3)" hideToggle="true">
            <mat-expansion-panel-header>
              <mat-panel-title>
                Application {{lease.privateCustomerInfo?.name}} {{lease.businessCustomerInfo?.name}}
                submitted on {{lease.date}}
              </mat-panel-title>
              <ng-template matExpansionPanelContent>
                <app-application-info [lease]="lease" [leasesInfoOfPrivate]="leasesInfoOfPrivate"
                                      [leasesInfoOfBusiness]="leasesInfoOfBusiness" [names]="names"
                                      [pending]="lease" (updates)="refresh2($event)"></app-application-info>

              </ng-template>

            </mat-expansion-panel-header>
          </mat-expansion-panel>

        </mat-accordion>
      </div>
    </div>

  </mat-tab>
  <mat-tab label="Business Customers Applications">
    <div>
      <h4 color="primary">Pending Applications</h4>
      <div *ngFor="let lease of leasesPrivateAndBusiness; let stepIndex = index" >


        <mat-accordion class="example-headers-align" *ngIf=" lease.leasingModel.customerType === 'Business' ">
          <mat-expansion-panel *ngIf="lease.status === 'PENDING'" [expanded]="step31 === stepIndex" (opened)="setStep31(stepIndex)" hideToggle="true">


            <mat-expansion-panel-header >
              <mat-panel-title>
                Application {{lease.privateCustomerInfo?.name}} {{lease.businessCustomerInfo?.name}}
                submitted on {{lease.date}}

              </mat-panel-title>
              <ng-template matExpansionPanelContent>
                <app-application-info [lease]="lease" [leasesInfoOfPrivate]="leasesInfoOfPrivate"
                                      [leasesInfoOfBusiness]="leasesInfoOfBusiness" [names]="names"
                                      [pending]="lease" (updates)="refresh2($event)"  ></app-application-info>
              </ng-template>

            </mat-expansion-panel-header>
          </mat-expansion-panel>

        </mat-accordion>

      </div>
    </div>
    <div>
      <h4>Approved Applications</h4>
      <div *ngFor="let lease of leasesPrivateAndBusiness; let stepIndex2 = index">
        <mat-accordion class="example-headers-align" *ngIf="lease.leasingModel.customerType === 'Business' ">
          <mat-expansion-panel *ngIf="lease.status === 'APPROVED'" [expanded]="step32 === stepIndex2" (opened)="setStep32(stepIndex2)" hideToggle="true">
            <mat-expansion-panel-header>
              <mat-panel-title>
                Application {{lease.privateCustomerInfo?.name}} {{lease.businessCustomerInfo?.name}}
                submitted on {{lease.date}}
              </mat-panel-title>
              <ng-template matExpansionPanelContent>
                <app-application-info [lease]="lease" [leasesInfoOfPrivate]="leasesInfoOfPrivate"
                                      [leasesInfoOfBusiness]="leasesInfoOfBusiness" [names]="names"
                                      [pending]="lease" (updates)="refresh2($event)"></app-application-info>

              </ng-template>

            </mat-expansion-panel-header>
          </mat-expansion-panel>

        </mat-accordion>
      </div>
    </div>
    <div>
      <h4>Denied applications</h4>
      <div *ngFor="let lease of leasesPrivateAndBusiness; let stepIndex3 = index">

        <mat-accordion class="example-headers-align" *ngIf=" lease.status === 'DENIED'">
          <mat-expansion-panel *ngIf="lease.status === 'DENIED'"[expanded]="step33 === stepIndex3" (opened)="setStep33(stepIndex3)" hideToggle="true">
            <mat-expansion-panel-header>
              <mat-panel-title>
                Application {{lease.privateCustomerInfo?.name}} {{lease.businessCustomerInfo?.name}}
                submitted on {{lease.date}}
              </mat-panel-title>
              <ng-template matExpansionPanelContent>
                <app-application-info [lease]="lease" [leasesInfoOfPrivate]="leasesInfoOfPrivate"
                                      [leasesInfoOfBusiness]="leasesInfoOfBusiness" [names]="names"
                                      [pending]="lease" (updates)="refresh2($event)"></app-application-info>

              </ng-template>

            </mat-expansion-panel-header>
          </mat-expansion-panel>

        </mat-accordion>
      </div>
    </div>


  </mat-tab>

</mat-tab-group>

